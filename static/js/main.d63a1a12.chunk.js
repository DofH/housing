(this.webpackJsonpstay=this.webpackJsonpstay||[]).push([[0],{21:function(e,t,n){e.exports=n(29)},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),o=n.n(c),i=(n(26),n(8)),s=n.n(i),l=n(11),u=n(3),f=n(2),d=n(5),v=n(7),b=n(0),p=(n(28),function(){var e=Object(r.useState)(["survey.svg"]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(),i=Object(d.a)(o,2),p=i[0],y=i[1],h=Object(r.useRef)(null),m=Object(r.useState)(),O=Object(d.a)(m,2),k=O[0],j=O[1],x=Object(r.useRef)([]),N=Object(r.useRef)([]),g=Object(r.useRef)({}),E=Object(r.createRef)(),w=Object(r.useState)(),T=Object(d.a)(w,2),C=T[0],S=T[1],V=Object(r.createRef)(),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},B=function(e){var t,n={},r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.nodeName]=a.nodeValue}}catch(k){r.e(k)}finally{r.f()}if(n.style){var c,o={},i=Object(f.a)(n.style.split(";"));try{for(i.s();!(c=i.n()).done;){var s=c.value.split(":"),l=Object(d.a)(s,2),u=l[0],v=l[1];o[u=L(u,"-")]=v}}catch(k){i.e(k)}finally{i.f()}n.style=o}n.class&&(n.className=n.class,delete n.class);for(var b=0,p=["xml:space","xlink:href","xmlns:xlink"];b<p.length;b++){var y=p[b];n[y]&&(n[L(y,":")]=n[y],delete n[y])}for(var h=0,m=["flood-opacity","flood-color"];h<m.length;h++){var O=m[h];n[O]&&(n[L(O,"-")]=n[O],delete n[O])}return n},R=function(e){var t=e.getBBox(),n=E.current.getScreenCTM().inverse().multiply(e.getScreenCTM()),r=E.current.createSVGPoint();r.x=t.x-2,r.y=t.y-2;var a=E.current.createSVGPoint();return a.x=r.x+t.width+4,a.y=r.y+t.height+4,r=r.matrixTransform(n),(a=a.matrixTransform(n)).x-=r.x,a.y-=r.y,[r.x,r.y,a.x,a.y].join(" ")},M=function(e){var t=R(e);t===E.current.attributes.viewBox.nodeValue&&(t=h.current),v.a.to(E.current,1,{attr:{viewBox:t},ease:b.b.easeInOut})},I=function(e){e=e.replace(/^#/,"");var t,n=Object(f.a)(x.current);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=Object(u.a)(r.current.childNodes).filter((function(e){return e.attributes&&e.attributes["xlink:href"]}));if(a.map((function(e){return e.attributes["xlink:href"].nodeValue.replace(/^#/,"")})).includes(e)){var c,o=Object(f.a)(a);try{for(o.s();!(c=o.n()).done;){var i=c.value;if(i.classList){var s=i.attributes["xlink:href"].nodeValue.replace(/^#/,""),l=g.current[s]&&g.current[s].current,d=s===e;d?i.classList.add("active"):i.classList.remove("active"),v.a.to(l,.5,{display:d?"inline":"none",opacity:d?1:0,ease:b.b.easeInOut})}}}catch(p){o.e(p)}finally{o.f()}}}}catch(p){n.e(p)}finally{n.f()}},D=function(e,t){if(e!==t){for(;e.parentNode!==t;)e=e.parentNode;Object(u.a)(e.classList).includes("active")||I(e.attributes["xlink:href"].nodeValue)}},P=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!((n=e.sent).status>=200&&n.status<300)){e.next=11;break}return e.t0=y,e.next=7,n.text();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 11:alert("Couldn't Load: ".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){P(n[0])}),[n]),Object(r.useEffect)((function(){if(p){var e=(new DOMParser).parseFromString(p,"text/xml");x.current=[],N.current=[],h.current=e.documentElement.attributes.viewBox.nodeValue,g.current={},j(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{val:0};if(t.nodeType===Node.ELEMENT_NODE){var i,s=[],l=Object(f.a)(t.childNodes);try{for(l.s();!(i=l.n()).done;){var d=i.value;if(d.nodeType===Node.ELEMENT_NODE)if(0===d.childNodes.length||Object(u.a)(d.childNodes).find((function(e){return e.nodeType!==Node.TEXT_NODE})))s.push(e(d,n,o));else{var p=B(d.attributes);p.key=++o.val;var y=Object(u.a)(d.childNodes).map((function(e){return e.data})).join();s.push(a.a.createElement(d.nodeName,p,y))}else d.data&&""!==d.data.trim()&&console.error("Child",d.data)}}catch(k){l.e(k)}finally{l.f()}var h=B(t.attributes);h.key=++o.val;var m=Object(r.createRef)();if(h.ref=m,h.id&&(n[h.id]=h.ref),["space"].includes(h.className)&&(h.onClick=function(){return M(m.current)}),["parent"].includes(h.className)&&(h.onClick=function(){var e=R(m.current);v.a.to(E.current,.3,{attr:{viewBox:e},opacity:0,ease:b.b.easeInOut,onComplete:function(){return c((function(e){return[h.xlinkHref].concat(Object(u.a)(e))}))}})}),h.style&&"none"===h.style.display&&(h.style.opacity=0),h["inkscape:label"]&&s.unshift(a.a.createElement("title",{key:++o.val},h["inkscape:label"])),"space"===h["inkscape:label"]&&N.current.push(h.ref),["key"].includes(h.className)&&(x.current.push(h.ref),h.onClick=function(e){return D(e.target,h.ref.current)}),["link"].includes(h.className)&&(h.onClick=function(){var e=h.xlinkHref;e.startsWith("#")?I(e):c((function(t){return[e].concat(Object(u.a)(t))}))}),["toggle"].includes(h.className)){var O=function(){h.ref.current.classList.toggle("on");var e,t=Object(f.a)(N.current);try{for(t.s();!(e=t.n()).done;){var n=e.value,r="0"!==n.current.style.opacity;v.a.to(n.current,.5,{display:r?"none":"inline",opacity:r?0:1,ease:b.b.easeInOut})}}catch(k){t.e(k)}finally{t.f()}};window.addEventListener("keypress",(function(e){"s"===e.key&&O()})),h.onClick=O}return"svg"===t.nodeName&&(h.ref=E),h.onClick||(h.onClick=function(e){for(var t=e.target;t.parentNode&&!t.attributes["inkscape:label"];)t=t.parentNode;t&&t.attributes?(S(t.attributes["inkscape:label"].nodeValue),V.current&&clearTimeout(V.current),V.current=setTimeout((function(){return S()}),5e3)):S("")}),a.a.createElement(t.nodeName,h,s)}console.error("Root Type",t.nodeType)}(e.documentElement,g.current))}}),[p]),Object(r.useEffect)((function(){var e,t=Object(f.a)(x.current);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,r=0,a=Object(u.a)(n.current.childNodes);r<a.length;r++){var c=a[r];if(c.attributes){var o=c.attributes["xlink:href"].nodeValue.replace(/^#/,"");console.info("checking",c.id,o,g.current[o].current.style.opacity),"0"!==g.current[o].current.style.opacity&&I(o)}}}catch(i){t.e(i)}finally{t.f()}}),[k]),a.a.createElement("div",{className:"App",style:{height:"100vh"}},k,C&&a.a.createElement("h1",null,C),n.length>1&&a.a.createElement("a",{id:"back",onClick:function(){c((function(e){return e.slice(1)}))}},"\u274c"))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.d63a1a12.chunk.js.map