(this.webpackJsonpstay=this.webpackJsonpstay||[]).push([[0],{21:function(e,t,n){e.exports=n(29)},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),i=n.n(c),o=(n(26),n(8)),s=n.n(o),l=n(11),u=n(3),f=n(2),d=n(5),v=n(7),b=n(0),p=(n(28),function(){var e=Object(r.useState)(["survey.svg"]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),o=Object(d.a)(i,2),p=o[0],y=o[1],h=Object(r.useRef)(null),m=Object(r.useState)(),O=Object(d.a)(m,2),j=O[0],k=O[1],x=Object(r.useRef)([]),N=Object(r.useRef)([]),E=Object(r.useRef)({}),g=Object(r.createRef)(),w=Object(r.useState)(),T=Object(d.a)(w,2),C=T[0],S=T[1],V=Object(r.createRef)(),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},R=function(e){var t,n={},r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.nodeName]=a.nodeValue}}catch(h){r.e(h)}finally{r.f()}if(n.style){var c,i={},o=Object(f.a)(n.style.split(";"));try{for(o.s();!(c=o.n()).done;){var s=c.value.split(":"),l=Object(d.a)(s,2),u=l[0],v=l[1];i[u=B(u,"-")]=v}}catch(h){o.e(h)}finally{o.f()}n.style=i}n.class&&(n.className=n.class,delete n.class);for(var b=0,p=["xml:space","xlink:href","xmlns:xlink"];b<p.length;b++){var y=p[b];n[y]&&(n[B(y,":")]=n[y],delete n[y])}return n},L=function(e){var t=e.getBBox(),n=g.current.getScreenCTM().inverse().multiply(e.getScreenCTM()),r=g.current.createSVGPoint();r.x=t.x-2,r.y=t.y-2;var a=g.current.createSVGPoint();return a.x=r.x+t.width+4,a.y=r.y+t.height+4,r=r.matrixTransform(n),(a=a.matrixTransform(n)).x-=r.x,a.y-=r.y,[r.x,r.y,a.x,a.y].join(" ")},M=function(e){var t=L(e);t===g.current.attributes.viewBox.nodeValue&&(t=h.current),v.a.to(g.current,1,{attr:{viewBox:t},ease:b.b.easeInOut})},I=function(e){e=e.replace(/^#/,"");var t,n=Object(f.a)(x.current);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=Object(u.a)(r.current.childNodes).filter((function(e){return e.attributes&&e.attributes["xlink:href"]}));if(a.map((function(e){return e.attributes["xlink:href"].nodeValue.replace(/^#/,"")})).includes(e)){var c,i=Object(f.a)(a);try{for(i.s();!(c=i.n()).done;){var o=c.value;if(o.classList){var s=o.attributes["xlink:href"].nodeValue.replace(/^#/,""),l=E.current[s]&&E.current[s].current,d=s===e;d?o.classList.add("active"):o.classList.remove("active"),v.a.to(l,.5,{display:d?"inline":"none",opacity:d?1:0,ease:b.b.easeInOut})}}}catch(p){i.e(p)}finally{i.f()}}}}catch(p){n.e(p)}finally{n.f()}},D=function(e,t){if(e!==t){for(;e.parentNode!==t;)e=e.parentNode;if(Object(u.a)(e.classList).includes("active")){var n,r=Object(f.a)(N.current);try{for(r.s();!(n=r.n()).done;){var a=n.value,c="0"!==a.current.style.opacity;console.info(c,a.current.id,a.current.style.opacity),v.a.to(a.current,.5,{display:c?"none":"inline",opacity:c?0:1,ease:b.b.easeInOut})}}catch(i){r.e(i)}finally{r.f()}}else I(e.attributes["xlink:href"].nodeValue)}},H=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!((n=e.sent).status>=200&&n.status<300)){e.next=11;break}return e.t0=y,e.next=7,n.text();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 11:alert("Couldn't Load: ".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){H(n[0])}),[n]),Object(r.useEffect)((function(){if(p){var e=(new DOMParser).parseFromString(p,"text/xml");x.current=[],N.current=[],h.current=e.documentElement.attributes.viewBox.nodeValue,E.current={},k(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{val:0};if(t.nodeType===Node.ELEMENT_NODE){var o,s=[],l=Object(f.a)(t.childNodes);try{for(l.s();!(o=l.n()).done;){var d=o.value;if(d.nodeType===Node.ELEMENT_NODE)if(0===d.childNodes.length||Object(u.a)(d.childNodes).find((function(e){return e.nodeType!==Node.TEXT_NODE})))s.push(e(d,n,i));else{var p=R(d.attributes);p.key=++i.val;var y=Object(u.a)(d.childNodes).map((function(e){return e.data})).join();s.push(a.a.createElement(d.nodeName,p,y))}else d.data&&""!==d.data.trim()&&console.error("Child",d.data)}}catch(O){l.e(O)}finally{l.f()}var h=R(t.attributes);h.key=++i.val;var m=Object(r.createRef)();return h.ref=m,h.id&&(n[h.id]=h.ref),["space"].includes(h.className)&&(h.onClick=function(){return M(m.current)}),["parent"].includes(h.className)&&(h.onClick=function(){var e=L(m.current);v.a.to(g.current,.3,{attr:{viewBox:e},opacity:0,ease:b.b.easeInOut,onComplete:function(){return c((function(e){return[h.xlinkHref].concat(Object(u.a)(e))}))}})}),h.style&&"none"===h.style.display&&(h.style.opacity=0),h["inkscape:label"]&&s.unshift(a.a.createElement("title",{key:++i.val},h["inkscape:label"])),"space"===h["inkscape:label"]&&N.current.push(h.ref),["key"].includes(h.className)&&(x.current.push(h.ref),h.onClick=function(e){return D(e.target,h.ref.current)}),["link"].includes(h.className)&&(console.info("link",t.id,h.xlinkHref),h.onClick=function(){var e=h.xlinkHref;e.startsWith("#")?I(e):c((function(t){return[e].concat(Object(u.a)(t))}))}),"svg"===t.nodeName&&(h.ref=g),h.onClick||(h.onClick=function(e){for(var t=e.target;t.parentNode&&!t.attributes["inkscape:label"];)t=t.parentNode;t&&t.attributes?(S(t.attributes["inkscape:label"].nodeValue),V.current&&clearTimeout(V.current),V.current=setTimeout((function(){return S()}),5e3)):S("")}),a.a.createElement(t.nodeName,h,s)}console.error("Root Type",t.nodeType)}(e.documentElement,E.current))}}),[p]),Object(r.useEffect)((function(){var e,t=Object(f.a)(x.current);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,r=0,a=Object(u.a)(n.current.childNodes);r<a.length;r++){var c=a[r];if(c.attributes){var i=c.attributes["xlink:href"].nodeValue.replace(/^#/,"");console.info("checking",c.id,i,E.current[i].current.style.opacity),"0"!==E.current[i].current.style.opacity&&I(i)}}}catch(o){t.e(o)}finally{t.f()}}),[j]),a.a.createElement("div",{className:"App",style:{height:"100vh"}},j,C&&a.a.createElement("h1",null,C),n.length>1&&a.a.createElement("a",{id:"back",onClick:function(){c((function(e){return e.slice(1)}))}},"\u274c"))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.b6e59f0e.chunk.js.map