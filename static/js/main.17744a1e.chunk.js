(this.webpackJsonpstay=this.webpackJsonpstay||[]).push([[0],{21:function(e,t,r){e.exports=r(29)},26:function(e,t,r){},28:function(e,t,r){},29:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(10),i=r.n(c),o=(r(26),r(8)),s=r.n(o),u=r(11),l=r(2),f=r(3),d=r(5),v=r(7),h=r(0),y=(r(28),function(){var e=Object(n.useState)(["survey.svg"]),t=Object(d.a)(e,2),r=t[0],c=t[1],i=Object(n.useState)(),o=Object(d.a)(i,2),y=o[0],b=o[1],p=Object(n.useRef)(null),m=Object(n.useState)(),x=Object(d.a)(m,2),k=x[0],O=x[1],g=Object(n.useRef)([]),w=Object(n.useRef)([]),j=Object(n.useRef)({}),E=Object(n.useRef)(),N=Object(n.useState)(),T=Object(d.a)(N,2),C=T[0],L=T[1],S=Object(n.useRef)(),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},B=function(e){"string"!==typeof e&&(e=[e.x,e.y,e.width,e.height].join(" ")),E.current.setAttribute("viewBox",e)},M=function(e){var t,r={},n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r[a.nodeName]=a.nodeValue}}catch(k){n.e(k)}finally{n.f()}if(r.style){var c,i={},o=Object(l.a)(r.style.split(";"));try{for(o.s();!(c=o.n()).done;){var s=c.value.split(":"),u=Object(d.a)(s,2),f=u[0],v=u[1];i[f=V(f,"-")]=v}}catch(k){o.e(k)}finally{o.f()}r.style=i}r.class&&(r.className=r.class,delete r.class);for(var h=0,y=["xml:space","xlink:href","xmlns:xlink"];h<y.length;h++){var b=y[h];r[b]&&(r[V(b,":")]=r[b],delete r[b])}for(var p=0,m=["flood-opacity","flood-color"];p<m.length;p++){var x=m[p];r[x]&&(r[V(x,"-")]=r[x],delete r[x])}return r},R=function(e,t){var r=E.current.createSVGPoint();return r.x=e,r.y=t,r},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.padPercent,n=void 0===r?2:r,a=t.serialize,c=void 0===a||a,i=e.getBBox();"rect"===e.nodeType&&(i={x:e.attributes.x,y:e.attributes.y,width:e.attributes.width,height:e.attributes.height});var o=E.current.getScreenCTM().inverse().multiply(e.getScreenCTM()),s=n/100*Math.min(i.width,i.height),u=R(i.x-s,i.y-s),l=R(i.x+i.width+2*s,i.y+i.height+2*s),f=u.matrixTransform(o),d=l.matrixTransform(o),v={x:f.x,y:f.y,width:d.x-f.x,height:d.y-f.y},h=R(l.x,u.y),y=h.matrixTransform(o),b=(f.y-y.y)/(f.x-y.x);return console.info(f,y,d,Math.atan(b)),c?[v.x,v.y,v.width,v.height].join(" "):v},P=function(e){var t=D(e);t===E.current.attributes.viewBox.nodeValue&&(t=p.current),v.a.to(E.current,1,{attr:{viewBox:t},ease:h.b.easeInOut})},I=function(e){e=e.replace(/^#/,"");var t,r=Object(l.a)(g.current);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=Object(f.a)(n.current.childNodes).filter((function(e){return e.attributes&&e.attributes["xlink:href"]}));if(a.map((function(e){return e.attributes["xlink:href"].nodeValue.replace(/^#/,"")})).includes(e)){var c,i=Object(l.a)(a);try{for(i.s();!(c=i.n()).done;){var o=c.value;if(o.classList){var s=o.attributes["xlink:href"].nodeValue.replace(/^#/,""),u=j.current[s]&&j.current[s].current,d=s===e;d?o.classList.add("active"):o.classList.remove("active"),v.a.to(u,.5,{display:d?"inline":"none",opacity:d?1:0,ease:h.b.easeInOut})}}}catch(y){i.e(y)}finally{i.f()}}}}catch(y){r.e(y)}finally{r.f()}},K=function(e,t){if(e!==t){for(;e.parentNode!==t;)e=e.parentNode;Object(f.a)(e.classList).includes("active")||I(e.attributes["xlink:href"].nodeValue)}},W=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!((r=e.sent).status>=200&&r.status<300)){e.next=11;break}return e.t0=b,e.next=7,r.text();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 11:alert("Couldn't Load: ".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){W(r[0])}),[r]),Object(n.useEffect)((function(){if(y)try{var e=(new DOMParser).parseFromString(y,"text/xml");g.current=[],w.current=[],p.current=e.documentElement.attributes.viewBox.nodeValue,j.current={},O(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{val:0};if(t.nodeType===Node.ELEMENT_NODE){var i,o=[],s=Object(l.a)(t.childNodes);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(u.nodeType===Node.ELEMENT_NODE)if(0===u.childNodes.length||Object(f.a)(u.childNodes).find((function(e){return e.nodeType!==Node.TEXT_NODE})))o.push(e(u,r));else{var d=M(u.attributes);d.key=++r.val;var y=Object(f.a)(u.childNodes).map((function(e){return e.data})).join();o.push(a.a.createElement(u.nodeName,d,y))}else u.data&&""!==u.data.trim()&&console.error("Child",u.data)}}catch(C){s.e(C)}finally{s.f()}var b=M(t.attributes);b.key=++r.val;var p,m="svg"===t.nodeName?E:Object(n.createRef)();if(b.ref=m,b.id&&(j.current[b.id]=b.ref),["space"].includes(b.className)&&(b.onClick=function(){return P(m.current)}),["parent"].includes(b.className)&&(b.onClick=function(){b.ref.current.classList.add("selected"),console.info("RT",b.ref.current.childNodes);var e=D(m.current),t=b.ref.current.querySelector(".card");t&&(e=D(t,{padPercent:0}),console.info("BX",e));E.current;j.current.root&&j.current.root.current}),b.style&&"none"===b.style.display&&(b.style.opacity=0),b["inkscape:label"]&&o.unshift(a.a.createElement("title",{key:++r.val},b["inkscape:label"])),"space"===b["inkscape:label"]&&w.current.push(b.ref),["key"].includes(b.className)&&(g.current.push(b.ref),b.onClick=function(e){return K(e.target,b.ref.current)}),["link"].includes(b.className)&&(b.onClick=function(){var e=b.xlinkHref;e.startsWith("#")?I(e):c((function(t){return[e].concat(Object(f.a)(t))}))}),b["selected:transform"]){var x=b.onClick;b.onClick=function(e){x&&x(e)}}if(p=b["selected:transform-root"]){var k=b.onClick;b.onClick=function(e){k&&k(e);var t=E.current;j.current.root&&(t=j.current.root.current),v.a.to(t,10.75,{attr:{transform:p},ease:h.b.easeOut})}}if(["toggle"].includes(b.className)){var O=function(){b.ref.current.classList.toggle("on");var e,t=Object(l.a)(w.current);try{for(t.s();!(e=t.n()).done;){var r=e.value,n="0"!==r.current.style.opacity;v.a.to(r.current,.5,{display:n?"none":"inline",opacity:n?0:1,ease:h.b.easeInOut})}}catch(C){t.e(C)}finally{t.f()}};window.addEventListener("keypress",(function(e){"s"===e.key&&O()})),b.onClick=O}var N=b.onClick;b.onClick=function(e){N&&N(e);for(var t=e.target;t.parentNode&&!t.attributes["inkscape:label"];)t=t.parentNode;t&&t.attributes?(t.classList.add("clicked"),setTimeout((function(){return t.classList.remove("clicked")}),1e3),L(t.attributes["inkscape:label"].nodeValue),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){return L()}),5e3)):L("")};var T=a.a.createElement(t.nodeName,b,o);return T}console.error("Root Type",t.nodeType)}(e.documentElement))}catch(t){alert("Error Loading: ".concat(r[0])),console.error(t),console.error(y)}}),[y]),Object(n.useEffect)((function(){var e,t=Object(l.a)(g.current);try{for(t.s();!(e=t.n()).done;)for(var r=e.value,n=0,a=Object(f.a)(r.current.childNodes);n<a.length;n++){var c=a[n];if(c.attributes){var i=c.attributes["xlink:href"].nodeValue.replace(/^#/,"");"0"!==j.current[i].current.style.opacity&&I(i)}}}catch(o){t.e(o)}finally{t.f()}}),[k]),Object(n.useEffect)((function(){var e=function(e){var t=function(){var e=E.current.attributes.viewBox.nodeValue.split(/\s+/).map(parseFloat);return{x:e[0],y:e[1],width:e[2],height:e[3]}}(),r=(e.altKey?.025:.1)*(e.deltaY/Math.abs(e.deltaY));if(e.shiftKey)t.x+=t.width*r;else if(e.ctrlKey){e.preventDefault();var n=E.current.createSVGPoint();n.x=e.clientX,n.y=e.clientY;var a=n.matrixTransform(E.current.getScreenCTM().inverse()),c={x:a.x-t.x,y:a.y-t.y},i={width:t.width*(1-r),height:t.height*(1-r)},o={x:i.width*(c.x/t.width),y:i.height*(c.y/t.height)};i.x=a.x-o.x,i.y=a.y-o.y,t=i}else t.y+=t.height*r;B(t)};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e)}}),[]),Object(n.useEffect)((function(){var e=function(e){"Enter"===e.key&&B(p.current)};return window.addEventListener("keypress",e),function(){return window.removeEventListener("keypress",e)}}),[]),a.a.createElement("div",{id:"App"},k,C&&a.a.createElement("h1",null,C),r.length>1&&a.a.createElement("button",{id:"back",onClick:function(){c((function(e){return e.slice(1)}))}},a.a.createElement("span",{role:"img","aria-label":"Close"},"\u274c")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.17744a1e.chunk.js.map