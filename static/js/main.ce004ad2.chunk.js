(this.webpackJsonpstay=this.webpackJsonpstay||[]).push([[0],{21:function(e,t,n){e.exports=n(31)},26:function(e,t,n){},28:function(e,t,n){},30:function(e,t){},31:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(10),i=n.n(c),o=(n(26),n(8)),s=n.n(o),u=n(11),l=n(3),f=n(2),d=n(5),v=n(6),h=n(0),y=(n(28),n(29),function(){var e=Object(r.useState)(["survey.svg"]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),o=Object(d.a)(i,2),y=o[0],b=o[1],p=Object(r.useRef)(null),m=Object(r.useState)(),x=Object(d.a)(m,2),O=x[0],k=x[1],j=Object(r.useRef)([]),g=Object(r.useRef)([]),w=Object(r.useRef)({}),E=Object(r.useRef)(),N=Object(r.useState)(),T=Object(d.a)(N,2),C=T[0],L=T[1],S=Object(r.useRef)(),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(t).map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},B=function(e){"string"!==typeof e&&(e=[e.x,e.y,e.width,e.height].join(" ")),E.current.setAttribute("viewBox",e)},M=function(e){var t,n={},r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.nodeName]=a.nodeValue}}catch(O){r.e(O)}finally{r.f()}if(n.style){var c,i={},o=Object(f.a)(n.style.split(";"));try{for(o.s();!(c=o.n()).done;){var s=c.value.split(":"),u=Object(d.a)(s,2),l=u[0],v=u[1];i[l=V(l,"-")]=v}}catch(O){o.e(O)}finally{o.f()}n.style=i}n.class&&(n.className=n.class,delete n.class);for(var h=0,y=["xml:space","xlink:href","xmlns:xlink"];h<y.length;h++){var b=y[h];n[b]&&(n[V(b,":")]=n[b],delete n[b])}for(var p=0,m=["flood-opacity","flood-color"];p<m.length;p++){var x=m[p];n[x]&&(n[V(x,"-")]=n[x],delete n[x])}return n},R=function(e){var t=e.getBBox(),n=E.current.getScreenCTM().inverse().multiply(e.getScreenCTM()),r=E.current.createSVGPoint();r.x=t.x-2,r.y=t.y-2;var a=E.current.createSVGPoint();return a.x=r.x+t.width+4,a.y=r.y+t.height+4,r=r.matrixTransform(n),(a=a.matrixTransform(n)).x-=r.x,a.y-=r.y,[r.x,r.y,a.x,a.y].join(" ")},D=function(e){var t=R(e);t===E.current.attributes.viewBox.nodeValue&&(t=p.current),v.a.to(E.current,1,{attr:{viewBox:t},ease:h.b.easeInOut})},I=function(e){e=e.replace(/^#/,"");var t,n=Object(f.a)(j.current);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=Object(l.a)(r.current.childNodes).filter((function(e){return e.attributes&&e.attributes["xlink:href"]}));if(a.map((function(e){return e.attributes["xlink:href"].nodeValue.replace(/^#/,"")})).includes(e)){var c,i=Object(f.a)(a);try{for(i.s();!(c=i.n()).done;){var o=c.value;if(o.classList){var s=o.attributes["xlink:href"].nodeValue.replace(/^#/,""),u=w.current[s]&&w.current[s].current,d=s===e;d?o.classList.add("active"):o.classList.remove("active"),v.a.to(u,.5,{display:d?"inline":"none",opacity:d?1:0,ease:h.b.easeInOut})}}}catch(y){i.e(y)}finally{i.f()}}}}catch(y){n.e(y)}finally{n.f()}},P=function(e,t){if(e!==t){for(;e.parentNode!==t;)e=e.parentNode;Object(l.a)(e.classList).includes("active")||I(e.attributes["xlink:href"].nodeValue)}},G=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!((n=e.sent).status>=200&&n.status<300)){e.next=11;break}return e.t0=b,e.next=7,n.text();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 11:alert("Couldn't Load: ".concat(t));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){G(n[0])}),[n]),Object(r.useEffect)((function(){if(y)try{var e=(new DOMParser).parseFromString(y,"text/xml");j.current=[],g.current=[],p.current=e.documentElement.attributes.viewBox.nodeValue,w.current={},k(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{val:0};if(t.nodeType===Node.ELEMENT_NODE){var o,s=[],u=Object(f.a)(t.childNodes);try{for(u.s();!(o=u.n()).done;){var d=o.value;if(d.nodeType===Node.ELEMENT_NODE)if(0===d.childNodes.length||Object(l.a)(d.childNodes).find((function(e){return e.nodeType!==Node.TEXT_NODE})))s.push(e(d,n,i));else{var y=M(d.attributes);y.key=++i.val;var b=Object(l.a)(d.childNodes).map((function(e){return e.data})).join();s.push(a.a.createElement(d.nodeName,y,b))}else d.data&&""!==d.data.trim()&&console.error("Child",d.data)}}catch(O){u.e(O)}finally{u.f()}var p=M(t.attributes);p.key=++i.val;var m="svg"===t.nodeName?E:Object(r.createRef)();if(p.ref=m,p.id&&(n[p.id]=p.ref),["space"].includes(p.className)&&(p.onClick=function(){return D(m.current)}),["parent"].includes(p.className)&&(p.onClick=function(){var e=R(m.current);v.a.to(E.current,.5,{attr:{viewBox:e},ease:h.b.easeOut}),v.a.to(E.current,.1,{opacity:0,ease:h.b.easeInOut,delay:.4,onComplete:function(){return c((function(e){return[p.xlinkHref].concat(Object(l.a)(e))}))}})}),p.style&&"none"===p.style.display&&(p.style.opacity=0),p["inkscape:label"]&&s.unshift(a.a.createElement("title",{key:++i.val},p["inkscape:label"])),"space"===p["inkscape:label"]&&g.current.push(p.ref),["key"].includes(p.className)&&(j.current.push(p.ref),p.onClick=function(e){return P(e.target,p.ref.current)}),["link"].includes(p.className)&&(p.onClick=function(){var e=p.xlinkHref;e.startsWith("#")?I(e):c((function(t){return[e].concat(Object(l.a)(t))}))}),["toggle"].includes(p.className)){var x=function(){p.ref.current.classList.toggle("on");var e,t=Object(f.a)(g.current);try{for(t.s();!(e=t.n()).done;){var n=e.value,r="0"!==n.current.style.opacity;v.a.to(n.current,.5,{display:r?"none":"inline",opacity:r?0:1,ease:h.b.easeInOut})}}catch(O){t.e(O)}finally{t.f()}};window.addEventListener("keypress",(function(e){"s"===e.key&&x()})),p.onClick=x}return p.onClick||(p.onClick=function(e){for(var t=e.target;t.parentNode&&!t.attributes["inkscape:label"];)t=t.parentNode;t&&t.attributes?(t.classList.add("clicked"),setTimeout((function(){return t.classList.remove("clicked")}),1e3),L(t.attributes["inkscape:label"].nodeValue),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){return L()}),5e3)):L("")}),a.a.createElement(t.nodeName,p,s)}console.error("Root Type",t.nodeType)}(e.documentElement,w.current))}catch(t){alert("Error Loading: ".concat(n[0])),console.error(t),console.error(y)}}),[y]),Object(r.useEffect)((function(){var e,t=Object(f.a)(j.current);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,r=0,a=Object(l.a)(n.current.childNodes);r<a.length;r++){var c=a[r];if(c.attributes){var i=c.attributes["xlink:href"].nodeValue.replace(/^#/,"");"0"!==w.current[i].current.style.opacity&&I(i)}}}catch(o){t.e(o)}finally{t.f()}}),[O]),Object(r.useEffect)((function(){var e=function(e){var t=function(){var e=E.current.attributes.viewBox.nodeValue.split(/\s+/).map(parseFloat);return{x:e[0],y:e[1],width:e[2],height:e[3]}}(),n=(e.altKey?.025:.1)*(e.deltaY/Math.abs(e.deltaY));if(e.shiftKey)t.x+=t.width*n;else if(e.ctrlKey){e.preventDefault();var r=E.current.createSVGPoint();r.x=e.clientX,r.y=e.clientY;var a=r.matrixTransform(E.current.getScreenCTM().inverse()),c={x:a.x-t.x,y:a.y-t.y},i={width:t.width*(1-n),height:t.height*(1-n)},o={x:i.width*(c.x/t.width),y:i.height*(c.y/t.height)};i.x=a.x-o.x,i.y=a.y-o.y,t=i}else t.y+=t.height*n;B(t)};return window.addEventListener("wheel",e,{passive:!1}),function(){return window.removeEventListener("wheel",e)}}),[]),Object(r.useEffect)((function(){var e=function(e){"Enter"===e.key&&B(p.current)};return window.addEventListener("keypress",e),function(){return window.removeEventListener("keypress",e)}}),[]),a.a.createElement("div",{className:"App",style:{height:"100vh"}},O,C&&a.a.createElement("h1",null,C),n.length>1&&a.a.createElement("button",{id:"back",onClick:function(){c((function(e){return e.slice(1)}))}},a.a.createElement("span",{role:"img","aria-label":"Close"},"\u274c")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.ce004ad2.chunk.js.map